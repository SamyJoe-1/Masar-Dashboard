INFO:     Started server process [3108491]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
INFO:     Uvicorn running on http://0.0.0.0:8080 (Press CTRL+C to quit)
INFO:     102.45.138.23:0 - "GET /docs HTTP/1.1" 200 OK
INFO:     102.45.138.23:0 - "GET /openapi.json HTTP/1.1" 200 OK
INFO:     Started server process [3109404]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
ERROR:    [Errno 98] error while attempting to bind on address ('0.0.0.0', 8080): address already in use
INFO:     Waiting for application shutdown.
INFO:     Application shutdown complete.
INFO:     102.45.138.23:0 - "GET /docs HTTP/1.1" 200 OK
INFO:     102.45.138.23:0 - "GET /openapi.json HTTP/1.1" 200 OK
INFO:     102.45.138.23:0 - "GET /docs HTTP/1.1" 200 OK
INFO:     102.45.138.23:0 - "GET /openapi.json HTTP/1.1" 200 OK
INFO:     Started server process [3117575]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
INFO:     Uvicorn running on http://0.0.0.0:8081 (Press CTRL+C to quit)
INFO:     102.45.138.23:0 - "GET /docs HTTP/1.1" 200 OK
INFO:     102.45.138.23:0 - "GET /openapi.json HTTP/1.1" 200 OK
INFO:     102.45.138.23:0 - "GET /docs HTTP/1.1" 200 OK
INFO:     102.45.138.23:0 - "GET /openapi.json HTTP/1.1" 200 OK
INFO:     127.0.0.1:48796 - "POST /extract-questions-from-cv-url HTTP/1.1" 307 Temporary Redirect
/home/masarom/api3.massar.biz/pdf_data_extraction/pdf_text_extraction.py:23: LangChainDeprecationWarning: The class `ChatOpenAI` was deprecated in LangChain 0.0.10 and will be removed in 1.0. An updated version of the class exists in the :class:`~langchain-openai package and should be used instead. To use it run `pip install -U :class:`~langchain-openai` and import as `from :class:`~langchain_openai import ChatOpenAI``.
  self.llm= ChatOpenAI(
INFO:     127.0.0.1:48796 - "POST /extract-questions-from-cv-url/ HTTP/1.1" 500 Internal Server Error
ERROR:    Exception in ASGI application
Traceback (most recent call last):
  File "/home/masarom/virtualenv/api3.massar.biz/3.11/lib/python3.11/site-packages/langchain_community/chat_models/openai.py", line 334, in validate_environment
    import openai
ModuleNotFoundError: No module named 'openai'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/masarom/virtualenv/api3.massar.biz/3.11/lib/python3.11/site-packages/uvicorn/protocols/http/h11_impl.py", line 403, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/masarom/virtualenv/api3.massar.biz/3.11/lib/python3.11/site-packages/uvicorn/middleware/proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/masarom/virtualenv/api3.massar.biz/3.11/lib/python3.11/site-packages/fastapi/applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
  File "/home/masarom/virtualenv/api3.massar.biz/3.11/lib/python3.11/site-packages/starlette/applications.py", line 113, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/home/masarom/virtualenv/api3.massar.biz/3.11/lib/python3.11/site-packages/starlette/middleware/errors.py", line 186, in __call__
    raise exc
  File "/home/masarom/virtualenv/api3.massar.biz/3.11/lib/python3.11/site-packages/starlette/middleware/errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "/home/masarom/virtualenv/api3.massar.biz/3.11/lib/python3.11/site-packages/starlette/middleware/exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/home/masarom/virtualenv/api3.massar.biz/3.11/lib/python3.11/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/home/masarom/virtualenv/api3.massar.biz/3.11/lib/python3.11/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/home/masarom/virtualenv/api3.massar.biz/3.11/lib/python3.11/site-packages/starlette/routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/home/masarom/virtualenv/api3.massar.biz/3.11/lib/python3.11/site-packages/starlette/routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "/home/masarom/virtualenv/api3.massar.biz/3.11/lib/python3.11/site-packages/starlette/routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "/home/masarom/virtualenv/api3.massar.biz/3.11/lib/python3.11/site-packages/starlette/routing.py", line 78, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/home/masarom/virtualenv/api3.massar.biz/3.11/lib/python3.11/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/home/masarom/virtualenv/api3.massar.biz/3.11/lib/python3.11/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/home/masarom/virtualenv/api3.massar.biz/3.11/lib/python3.11/site-packages/starlette/routing.py", line 75, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "/home/masarom/virtualenv/api3.massar.biz/3.11/lib/python3.11/site-packages/fastapi/routing.py", line 302, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/masarom/virtualenv/api3.massar.biz/3.11/lib/python3.11/site-packages/fastapi/routing.py", line 213, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/masarom/api3.massar.biz/main.py", line 225, in process_pdf_from_url_with_language
    return await process_pdf_from_url_optimized(pdf_url, system_prompt, job_description, language.upper())
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/masarom/api3.massar.biz/main.py", line 166, in process_pdf_from_url_optimized
    extractor = PDFTextExtraction(file_path, system_prompt, openai=True)
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/masarom/api3.massar.biz/pdf_data_extraction/pdf_text_extraction.py", line 23, in __init__
    self.llm= ChatOpenAI(
              ^^^^^^^^^^^
  File "/home/masarom/virtualenv/api3.massar.biz/3.11/lib/python3.11/site-packages/langchain_core/_api/deprecation.py", line 223, in warn_if_direct_instance
    return wrapped(self, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/masarom/virtualenv/api3.massar.biz/3.11/lib/python3.11/site-packages/langchain_core/load/serializable.py", line 130, in __init__
    super().__init__(*args, **kwargs)
  File "/home/masarom/virtualenv/api3.massar.biz/3.11/lib/python3.11/site-packages/pydantic/main.py", line 253, in __init__
    validated_self = self.__pydantic_validator__.validate_python(data, self_instance=self)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/masarom/virtualenv/api3.massar.biz/3.11/lib/python3.11/site-packages/pydantic/_internal/_decorators_v1.py", line 148, in _wrapper1
    return validator(values)
           ^^^^^^^^^^^^^^^^^
  File "/home/masarom/virtualenv/api3.massar.biz/3.11/lib/python3.11/site-packages/langchain_core/utils/pydantic.py", line 168, in wrapper
    return func(cls, values)
           ^^^^^^^^^^^^^^^^^
  File "/home/masarom/virtualenv/api3.massar.biz/3.11/lib/python3.11/site-packages/langchain_community/chat_models/openai.py", line 337, in validate_environment
    raise ImportError(
ImportError: Could not import openai python package. Please install it with `pip install openai`.
INFO:     45.101.169.98:0 - "GET /docs HTTP/1.1" 200 OK
INFO:     156.217.96.104:0 - "GET /openapi.json HTTP/1.1" 200 OK
INFO:     156.217.96.104:0 - "POST /extract-questions-from-cv/ HTTP/1.1" 500 Internal Server Error
ERROR:    Exception in ASGI application
Traceback (most recent call last):
  File "/home/masarom/virtualenv/api3.massar.biz/3.11/lib/python3.11/site-packages/langchain_community/chat_models/openai.py", line 334, in validate_environment
    import openai
ModuleNotFoundError: No module named 'openai'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/masarom/virtualenv/api3.massar.biz/3.11/lib/python3.11/site-packages/uvicorn/protocols/http/h11_impl.py", line 403, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/masarom/virtualenv/api3.massar.biz/3.11/lib/python3.11/site-packages/uvicorn/middleware/proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/masarom/virtualenv/api3.massar.biz/3.11/lib/python3.11/site-packages/fastapi/applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
  File "/home/masarom/virtualenv/api3.massar.biz/3.11/lib/python3.11/site-packages/starlette/applications.py", line 113, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/home/masarom/virtualenv/api3.massar.biz/3.11/lib/python3.11/site-packages/starlette/middleware/errors.py", line 186, in __call__
    raise exc
  File "/home/masarom/virtualenv/api3.massar.biz/3.11/lib/python3.11/site-packages/starlette/middleware/errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "/home/masarom/virtualenv/api3.massar.biz/3.11/lib/python3.11/site-packages/starlette/middleware/exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/home/masarom/virtualenv/api3.massar.biz/3.11/lib/python3.11/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/home/masarom/virtualenv/api3.massar.biz/3.11/lib/python3.11/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/home/masarom/virtualenv/api3.massar.biz/3.11/lib/python3.11/site-packages/starlette/routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/home/masarom/virtualenv/api3.massar.biz/3.11/lib/python3.11/site-packages/starlette/routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "/home/masarom/virtualenv/api3.massar.biz/3.11/lib/python3.11/site-packages/starlette/routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "/home/masarom/virtualenv/api3.massar.biz/3.11/lib/python3.11/site-packages/starlette/routing.py", line 78, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/home/masarom/virtualenv/api3.massar.biz/3.11/lib/python3.11/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/home/masarom/virtualenv/api3.massar.biz/3.11/lib/python3.11/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/home/masarom/virtualenv/api3.massar.biz/3.11/lib/python3.11/site-packages/starlette/routing.py", line 75, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "/home/masarom/virtualenv/api3.massar.biz/3.11/lib/python3.11/site-packages/fastapi/routing.py", line 302, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/masarom/virtualenv/api3.massar.biz/3.11/lib/python3.11/site-packages/fastapi/routing.py", line 213, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/masarom/api3.massar.biz/main.py", line 214, in process_pdf_with_file
    return await process_pdf_optimized(file, system_prompt, job_description, language.upper())
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/masarom/api3.massar.biz/main.py", line 100, in process_pdf_optimized
    extractor = PDFTextExtraction(file_path , system_prompt   , openai=True)
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/masarom/api3.massar.biz/pdf_data_extraction/pdf_text_extraction.py", line 23, in __init__
    self.llm= ChatOpenAI(
              ^^^^^^^^^^^
  File "/home/masarom/virtualenv/api3.massar.biz/3.11/lib/python3.11/site-packages/langchain_core/_api/deprecation.py", line 223, in warn_if_direct_instance
    return wrapped(self, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/masarom/virtualenv/api3.massar.biz/3.11/lib/python3.11/site-packages/langchain_core/load/serializable.py", line 130, in __init__
    super().__init__(*args, **kwargs)
  File "/home/masarom/virtualenv/api3.massar.biz/3.11/lib/python3.11/site-packages/pydantic/main.py", line 253, in __init__
    validated_self = self.__pydantic_validator__.validate_python(data, self_instance=self)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/masarom/virtualenv/api3.massar.biz/3.11/lib/python3.11/site-packages/pydantic/_internal/_decorators_v1.py", line 148, in _wrapper1
    return validator(values)
           ^^^^^^^^^^^^^^^^^
  File "/home/masarom/virtualenv/api3.massar.biz/3.11/lib/python3.11/site-packages/langchain_core/utils/pydantic.py", line 168, in wrapper
    return func(cls, values)
           ^^^^^^^^^^^^^^^^^
  File "/home/masarom/virtualenv/api3.massar.biz/3.11/lib/python3.11/site-packages/langchain_community/chat_models/openai.py", line 337, in validate_environment
    raise ImportError(
ImportError: Could not import openai python package. Please install it with `pip install openai`.
INFO:     102.45.138.23:0 - "GET /docs HTTP/1.1" 200 OK
INFO:     102.45.138.23:0 - "GET /openapi.json HTTP/1.1" 200 OK
INFO:     102.45.138.23:0 - "GET / HTTP/1.1" 404 Not Found
INFO:     102.45.138.23:0 - "GET /docs HTTP/1.1" 200 OK
INFO:     102.45.138.23:0 - "GET /openapi.json HTTP/1.1" 200 OK
INFO:     102.45.138.23:0 - "GET /docs HTTP/1.1" 200 OK
INFO:     102.45.138.23:0 - "GET /openapi.json HTTP/1.1" 200 OK
INFO:     127.0.0.1:37516 - "POST /extract-questions-from-cv-url HTTP/1.1" 307 Temporary Redirect
INFO:     127.0.0.1:37516 - "POST /extract-questions-from-cv-url/ HTTP/1.1" 500 Internal Server Error
ERROR:    Exception in ASGI application
Traceback (most recent call last):
  File "/home/masarom/virtualenv/api3.massar.biz/3.11/lib/python3.11/site-packages/langchain_community/chat_models/openai.py", line 334, in validate_environment
    import openai
ModuleNotFoundError: No module named 'openai'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/masarom/virtualenv/api3.massar.biz/3.11/lib/python3.11/site-packages/uvicorn/protocols/http/h11_impl.py", line 403, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/masarom/virtualenv/api3.massar.biz/3.11/lib/python3.11/site-packages/uvicorn/middleware/proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/masarom/virtualenv/api3.massar.biz/3.11/lib/python3.11/site-packages/fastapi/applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
  File "/home/masarom/virtualenv/api3.massar.biz/3.11/lib/python3.11/site-packages/starlette/applications.py", line 113, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/home/masarom/virtualenv/api3.massar.biz/3.11/lib/python3.11/site-packages/starlette/middleware/errors.py", line 186, in __call__
    raise exc
  File "/home/masarom/virtualenv/api3.massar.biz/3.11/lib/python3.11/site-packages/starlette/middleware/errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "/home/masarom/virtualenv/api3.massar.biz/3.11/lib/python3.11/site-packages/starlette/middleware/exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/home/masarom/virtualenv/api3.massar.biz/3.11/lib/python3.11/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/home/masarom/virtualenv/api3.massar.biz/3.11/lib/python3.11/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/home/masarom/virtualenv/api3.massar.biz/3.11/lib/python3.11/site-packages/starlette/routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/home/masarom/virtualenv/api3.massar.biz/3.11/lib/python3.11/site-packages/starlette/routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "/home/masarom/virtualenv/api3.massar.biz/3.11/lib/python3.11/site-packages/starlette/routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "/home/masarom/virtualenv/api3.massar.biz/3.11/lib/python3.11/site-packages/starlette/routing.py", line 78, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/home/masarom/virtualenv/api3.massar.biz/3.11/lib/python3.11/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/home/masarom/virtualenv/api3.massar.biz/3.11/lib/python3.11/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/home/masarom/virtualenv/api3.massar.biz/3.11/lib/python3.11/site-packages/starlette/routing.py", line 75, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "/home/masarom/virtualenv/api3.massar.biz/3.11/lib/python3.11/site-packages/fastapi/routing.py", line 302, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/masarom/virtualenv/api3.massar.biz/3.11/lib/python3.11/site-packages/fastapi/routing.py", line 213, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/masarom/api3.massar.biz/main.py", line 225, in process_pdf_from_url_with_language
    return await process_pdf_from_url_optimized(pdf_url, system_prompt, job_description, language.upper())
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/masarom/api3.massar.biz/main.py", line 166, in process_pdf_from_url_optimized
    extractor = PDFTextExtraction(file_path, system_prompt, openai=True)
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/masarom/api3.massar.biz/pdf_data_extraction/pdf_text_extraction.py", line 23, in __init__
    self.llm= ChatOpenAI(
              ^^^^^^^^^^^
  File "/home/masarom/virtualenv/api3.massar.biz/3.11/lib/python3.11/site-packages/langchain_core/_api/deprecation.py", line 223, in warn_if_direct_instance
    return wrapped(self, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/masarom/virtualenv/api3.massar.biz/3.11/lib/python3.11/site-packages/langchain_core/load/serializable.py", line 130, in __init__
    super().__init__(*args, **kwargs)
  File "/home/masarom/virtualenv/api3.massar.biz/3.11/lib/python3.11/site-packages/pydantic/main.py", line 253, in __init__
    validated_self = self.__pydantic_validator__.validate_python(data, self_instance=self)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/masarom/virtualenv/api3.massar.biz/3.11/lib/python3.11/site-packages/pydantic/_internal/_decorators_v1.py", line 148, in _wrapper1
    return validator(values)
           ^^^^^^^^^^^^^^^^^
  File "/home/masarom/virtualenv/api3.massar.biz/3.11/lib/python3.11/site-packages/langchain_core/utils/pydantic.py", line 168, in wrapper
    return func(cls, values)
           ^^^^^^^^^^^^^^^^^
  File "/home/masarom/virtualenv/api3.massar.biz/3.11/lib/python3.11/site-packages/langchain_community/chat_models/openai.py", line 337, in validate_environment
    raise ImportError(
ImportError: Could not import openai python package. Please install it with `pip install openai`.
INFO:     156.217.96.104:0 - "GET /docs HTTP/1.1" 200 OK
INFO:     156.217.96.104:0 - "GET /openapi.json HTTP/1.1" 200 OK
INFO:     102.45.138.23:0 - "POST /extract-questions-from-cv/ HTTP/1.1" 500 Internal Server Error
ERROR:    Exception in ASGI application
Traceback (most recent call last):
  File "/home/masarom/virtualenv/api3.massar.biz/3.11/lib/python3.11/site-packages/langchain_community/chat_models/openai.py", line 334, in validate_environment
    import openai
ModuleNotFoundError: No module named 'openai'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/masarom/virtualenv/api3.massar.biz/3.11/lib/python3.11/site-packages/uvicorn/protocols/http/h11_impl.py", line 403, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/masarom/virtualenv/api3.massar.biz/3.11/lib/python3.11/site-packages/uvicorn/middleware/proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/masarom/virtualenv/api3.massar.biz/3.11/lib/python3.11/site-packages/fastapi/applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
  File "/home/masarom/virtualenv/api3.massar.biz/3.11/lib/python3.11/site-packages/starlette/applications.py", line 113, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/home/masarom/virtualenv/api3.massar.biz/3.11/lib/python3.11/site-packages/starlette/middleware/errors.py", line 186, in __call__
    raise exc
  File "/home/masarom/virtualenv/api3.massar.biz/3.11/lib/python3.11/site-packages/starlette/middleware/errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "/home/masarom/virtualenv/api3.massar.biz/3.11/lib/python3.11/site-packages/starlette/middleware/exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/home/masarom/virtualenv/api3.massar.biz/3.11/lib/python3.11/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/home/masarom/virtualenv/api3.massar.biz/3.11/lib/python3.11/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/home/masarom/virtualenv/api3.massar.biz/3.11/lib/python3.11/site-packages/starlette/routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/home/masarom/virtualenv/api3.massar.biz/3.11/lib/python3.11/site-packages/starlette/routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "/home/masarom/virtualenv/api3.massar.biz/3.11/lib/python3.11/site-packages/starlette/routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "/home/masarom/virtualenv/api3.massar.biz/3.11/lib/python3.11/site-packages/starlette/routing.py", line 78, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/home/masarom/virtualenv/api3.massar.biz/3.11/lib/python3.11/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/home/masarom/virtualenv/api3.massar.biz/3.11/lib/python3.11/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/home/masarom/virtualenv/api3.massar.biz/3.11/lib/python3.11/site-packages/starlette/routing.py", line 75, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "/home/masarom/virtualenv/api3.massar.biz/3.11/lib/python3.11/site-packages/fastapi/routing.py", line 302, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/masarom/virtualenv/api3.massar.biz/3.11/lib/python3.11/site-packages/fastapi/routing.py", line 213, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/masarom/api3.massar.biz/main.py", line 214, in process_pdf_with_file
    return await process_pdf_optimized(file, system_prompt, job_description, language.upper())
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/masarom/api3.massar.biz/main.py", line 100, in process_pdf_optimized
    extractor = PDFTextExtraction(file_path , system_prompt   , openai=True)
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/masarom/api3.massar.biz/pdf_data_extraction/pdf_text_extraction.py", line 23, in __init__
    self.llm= ChatOpenAI(
              ^^^^^^^^^^^
  File "/home/masarom/virtualenv/api3.massar.biz/3.11/lib/python3.11/site-packages/langchain_core/_api/deprecation.py", line 223, in warn_if_direct_instance
    return wrapped(self, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/masarom/virtualenv/api3.massar.biz/3.11/lib/python3.11/site-packages/langchain_core/load/serializable.py", line 130, in __init__
    super().__init__(*args, **kwargs)
  File "/home/masarom/virtualenv/api3.massar.biz/3.11/lib/python3.11/site-packages/pydantic/main.py", line 253, in __init__
    validated_self = self.__pydantic_validator__.validate_python(data, self_instance=self)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/masarom/virtualenv/api3.massar.biz/3.11/lib/python3.11/site-packages/pydantic/_internal/_decorators_v1.py", line 148, in _wrapper1
    return validator(values)
           ^^^^^^^^^^^^^^^^^
  File "/home/masarom/virtualenv/api3.massar.biz/3.11/lib/python3.11/site-packages/langchain_core/utils/pydantic.py", line 168, in wrapper
    return func(cls, values)
           ^^^^^^^^^^^^^^^^^
  File "/home/masarom/virtualenv/api3.massar.biz/3.11/lib/python3.11/site-packages/langchain_community/chat_models/openai.py", line 337, in validate_environment
    raise ImportError(
ImportError: Could not import openai python package. Please install it with `pip install openai`.
INFO:     156.217.96.104:0 - "POST /extract-questions-from-cv/ HTTP/1.1" 500 Internal Server Error
ERROR:    Exception in ASGI application
Traceback (most recent call last):
  File "/home/masarom/virtualenv/api3.massar.biz/3.11/lib/python3.11/site-packages/langchain_community/chat_models/openai.py", line 334, in validate_environment
    import openai
ModuleNotFoundError: No module named 'openai'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/masarom/virtualenv/api3.massar.biz/3.11/lib/python3.11/site-packages/uvicorn/protocols/http/h11_impl.py", line 403, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/masarom/virtualenv/api3.massar.biz/3.11/lib/python3.11/site-packages/uvicorn/middleware/proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/masarom/virtualenv/api3.massar.biz/3.11/lib/python3.11/site-packages/fastapi/applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
  File "/home/masarom/virtualenv/api3.massar.biz/3.11/lib/python3.11/site-packages/starlette/applications.py", line 113, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/home/masarom/virtualenv/api3.massar.biz/3.11/lib/python3.11/site-packages/starlette/middleware/errors.py", line 186, in __call__
    raise exc
  File "/home/masarom/virtualenv/api3.massar.biz/3.11/lib/python3.11/site-packages/starlette/middleware/errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "/home/masarom/virtualenv/api3.massar.biz/3.11/lib/python3.11/site-packages/starlette/middleware/exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/home/masarom/virtualenv/api3.massar.biz/3.11/lib/python3.11/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/home/masarom/virtualenv/api3.massar.biz/3.11/lib/python3.11/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/home/masarom/virtualenv/api3.massar.biz/3.11/lib/python3.11/site-packages/starlette/routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/home/masarom/virtualenv/api3.massar.biz/3.11/lib/python3.11/site-packages/starlette/routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "/home/masarom/virtualenv/api3.massar.biz/3.11/lib/python3.11/site-packages/starlette/routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "/home/masarom/virtualenv/api3.massar.biz/3.11/lib/python3.11/site-packages/starlette/routing.py", line 78, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/home/masarom/virtualenv/api3.massar.biz/3.11/lib/python3.11/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/home/masarom/virtualenv/api3.massar.biz/3.11/lib/python3.11/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/home/masarom/virtualenv/api3.massar.biz/3.11/lib/python3.11/site-packages/starlette/routing.py", line 75, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "/home/masarom/virtualenv/api3.massar.biz/3.11/lib/python3.11/site-packages/fastapi/routing.py", line 302, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/masarom/virtualenv/api3.massar.biz/3.11/lib/python3.11/site-packages/fastapi/routing.py", line 213, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/masarom/api3.massar.biz/main.py", line 214, in process_pdf_with_file
    return await process_pdf_optimized(file, system_prompt, job_description, language.upper())
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/masarom/api3.massar.biz/main.py", line 100, in process_pdf_optimized
    extractor = PDFTextExtraction(file_path , system_prompt   , openai=True)
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/masarom/api3.massar.biz/pdf_data_extraction/pdf_text_extraction.py", line 23, in __init__
    self.llm= ChatOpenAI(
              ^^^^^^^^^^^
  File "/home/masarom/virtualenv/api3.massar.biz/3.11/lib/python3.11/site-packages/langchain_core/_api/deprecation.py", line 223, in warn_if_direct_instance
    return wrapped(self, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/masarom/virtualenv/api3.massar.biz/3.11/lib/python3.11/site-packages/langchain_core/load/serializable.py", line 130, in __init__
    super().__init__(*args, **kwargs)
  File "/home/masarom/virtualenv/api3.massar.biz/3.11/lib/python3.11/site-packages/pydantic/main.py", line 253, in __init__
    validated_self = self.__pydantic_validator__.validate_python(data, self_instance=self)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/masarom/virtualenv/api3.massar.biz/3.11/lib/python3.11/site-packages/pydantic/_internal/_decorators_v1.py", line 148, in _wrapper1
    return validator(values)
           ^^^^^^^^^^^^^^^^^
  File "/home/masarom/virtualenv/api3.massar.biz/3.11/lib/python3.11/site-packages/langchain_core/utils/pydantic.py", line 168, in wrapper
    return func(cls, values)
           ^^^^^^^^^^^^^^^^^
  File "/home/masarom/virtualenv/api3.massar.biz/3.11/lib/python3.11/site-packages/langchain_community/chat_models/openai.py", line 337, in validate_environment
    raise ImportError(
ImportError: Could not import openai python package. Please install it with `pip install openai`.
INFO:     102.45.138.23:0 - "GET /docs HTTP/1.1" 200 OK
INFO:     102.45.138.23:0 - "GET /openapi.json HTTP/1.1" 200 OK
INFO:     102.45.138.23:0 - "GET /docs HTTP/1.1" 200 OK
INFO:     102.45.138.23:0 - "GET /openapi.json HTTP/1.1" 200 OK
INFO:     102.45.138.23:0 - "POST /extract-questions-from-cv/ HTTP/1.1" 500 Internal Server Error
ERROR:    Exception in ASGI application
Traceback (most recent call last):
  File "/home/masarom/virtualenv/api3.massar.biz/3.11/lib/python3.11/site-packages/langchain_community/chat_models/openai.py", line 334, in validate_environment
    import openai
ModuleNotFoundError: No module named 'openai'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/masarom/virtualenv/api3.massar.biz/3.11/lib/python3.11/site-packages/uvicorn/protocols/http/h11_impl.py", line 403, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/masarom/virtualenv/api3.massar.biz/3.11/lib/python3.11/site-packages/uvicorn/middleware/proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/masarom/virtualenv/api3.massar.biz/3.11/lib/python3.11/site-packages/fastapi/applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
  File "/home/masarom/virtualenv/api3.massar.biz/3.11/lib/python3.11/site-packages/starlette/applications.py", line 113, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/home/masarom/virtualenv/api3.massar.biz/3.11/lib/python3.11/site-packages/starlette/middleware/errors.py", line 186, in __call__
    raise exc
  File "/home/masarom/virtualenv/api3.massar.biz/3.11/lib/python3.11/site-packages/starlette/middleware/errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "/home/masarom/virtualenv/api3.massar.biz/3.11/lib/python3.11/site-packages/starlette/middleware/exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/home/masarom/virtualenv/api3.massar.biz/3.11/lib/python3.11/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/home/masarom/virtualenv/api3.massar.biz/3.11/lib/python3.11/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/home/masarom/virtualenv/api3.massar.biz/3.11/lib/python3.11/site-packages/starlette/routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/home/masarom/virtualenv/api3.massar.biz/3.11/lib/python3.11/site-packages/starlette/routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "/home/masarom/virtualenv/api3.massar.biz/3.11/lib/python3.11/site-packages/starlette/routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "/home/masarom/virtualenv/api3.massar.biz/3.11/lib/python3.11/site-packages/starlette/routing.py", line 78, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/home/masarom/virtualenv/api3.massar.biz/3.11/lib/python3.11/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/home/masarom/virtualenv/api3.massar.biz/3.11/lib/python3.11/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/home/masarom/virtualenv/api3.massar.biz/3.11/lib/python3.11/site-packages/starlette/routing.py", line 75, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "/home/masarom/virtualenv/api3.massar.biz/3.11/lib/python3.11/site-packages/fastapi/routing.py", line 302, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/masarom/virtualenv/api3.massar.biz/3.11/lib/python3.11/site-packages/fastapi/routing.py", line 213, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/masarom/api3.massar.biz/main.py", line 214, in process_pdf_with_file
    return await process_pdf_optimized(file, system_prompt, job_description, language.upper())
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/masarom/api3.massar.biz/main.py", line 100, in process_pdf_optimized
    extractor = PDFTextExtraction(file_path , system_prompt   , openai=True)
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/masarom/api3.massar.biz/pdf_data_extraction/pdf_text_extraction.py", line 23, in __init__
    self.llm= ChatOpenAI(
              ^^^^^^^^^^^
  File "/home/masarom/virtualenv/api3.massar.biz/3.11/lib/python3.11/site-packages/langchain_core/_api/deprecation.py", line 223, in warn_if_direct_instance
    return wrapped(self, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/masarom/virtualenv/api3.massar.biz/3.11/lib/python3.11/site-packages/langchain_core/load/serializable.py", line 130, in __init__
    super().__init__(*args, **kwargs)
  File "/home/masarom/virtualenv/api3.massar.biz/3.11/lib/python3.11/site-packages/pydantic/main.py", line 253, in __init__
    validated_self = self.__pydantic_validator__.validate_python(data, self_instance=self)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/masarom/virtualenv/api3.massar.biz/3.11/lib/python3.11/site-packages/pydantic/_internal/_decorators_v1.py", line 148, in _wrapper1
    return validator(values)
           ^^^^^^^^^^^^^^^^^
  File "/home/masarom/virtualenv/api3.massar.biz/3.11/lib/python3.11/site-packages/langchain_core/utils/pydantic.py", line 168, in wrapper
    return func(cls, values)
           ^^^^^^^^^^^^^^^^^
  File "/home/masarom/virtualenv/api3.massar.biz/3.11/lib/python3.11/site-packages/langchain_community/chat_models/openai.py", line 337, in validate_environment
    raise ImportError(
ImportError: Could not import openai python package. Please install it with `pip install openai`.
INFO:     102.45.138.23:0 - "GET /docs HTTP/1.1" 200 OK
INFO:     102.45.138.23:0 - "GET /openapi.json HTTP/1.1" 200 OK
INFO:     102.45.138.23:0 - "POST /extract-questions-from-cv-url/ HTTP/1.1" 400 Bad Request
INFO:     102.45.138.23:0 - "POST /extract-questions-from-cv-url/ HTTP/1.1" 400 Bad Request
INFO:     102.45.138.23:0 - "POST /extract-questions-from-cv-url/ HTTP/1.1" 400 Bad Request
INFO:     102.45.138.23:0 - "POST /extract-questions-from-cv-url/ HTTP/1.1" 400 Bad Request
INFO:     102.45.138.23:0 - "POST /extract-questions-from-cv-url/ HTTP/1.1" 400 Bad Request
INFO:     127.0.0.1:57528 - "POST /extract-questions-from-cv-url HTTP/1.1" 307 Temporary Redirect
INFO:     127.0.0.1:57528 - "POST /extract-questions-from-cv-url/ HTTP/1.1" 500 Internal Server Error
ERROR:    Exception in ASGI application
Traceback (most recent call last):
  File "/home/masarom/virtualenv/api3.massar.biz/3.11/lib/python3.11/site-packages/langchain_community/chat_models/openai.py", line 334, in validate_environment
    import openai
ModuleNotFoundError: No module named 'openai'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/masarom/virtualenv/api3.massar.biz/3.11/lib/python3.11/site-packages/uvicorn/protocols/http/h11_impl.py", line 403, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/masarom/virtualenv/api3.massar.biz/3.11/lib/python3.11/site-packages/uvicorn/middleware/proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/masarom/virtualenv/api3.massar.biz/3.11/lib/python3.11/site-packages/fastapi/applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
  File "/home/masarom/virtualenv/api3.massar.biz/3.11/lib/python3.11/site-packages/starlette/applications.py", line 113, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/home/masarom/virtualenv/api3.massar.biz/3.11/lib/python3.11/site-packages/starlette/middleware/errors.py", line 186, in __call__
    raise exc
  File "/home/masarom/virtualenv/api3.massar.biz/3.11/lib/python3.11/site-packages/starlette/middleware/errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "/home/masarom/virtualenv/api3.massar.biz/3.11/lib/python3.11/site-packages/starlette/middleware/exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/home/masarom/virtualenv/api3.massar.biz/3.11/lib/python3.11/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/home/masarom/virtualenv/api3.massar.biz/3.11/lib/python3.11/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/home/masarom/virtualenv/api3.massar.biz/3.11/lib/python3.11/site-packages/starlette/routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/home/masarom/virtualenv/api3.massar.biz/3.11/lib/python3.11/site-packages/starlette/routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "/home/masarom/virtualenv/api3.massar.biz/3.11/lib/python3.11/site-packages/starlette/routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "/home/masarom/virtualenv/api3.massar.biz/3.11/lib/python3.11/site-packages/starlette/routing.py", line 78, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/home/masarom/virtualenv/api3.massar.biz/3.11/lib/python3.11/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/home/masarom/virtualenv/api3.massar.biz/3.11/lib/python3.11/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/home/masarom/virtualenv/api3.massar.biz/3.11/lib/python3.11/site-packages/starlette/routing.py", line 75, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "/home/masarom/virtualenv/api3.massar.biz/3.11/lib/python3.11/site-packages/fastapi/routing.py", line 302, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/masarom/virtualenv/api3.massar.biz/3.11/lib/python3.11/site-packages/fastapi/routing.py", line 213, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/masarom/api3.massar.biz/main.py", line 225, in process_pdf_from_url_with_language
    return await process_pdf_from_url_optimized(pdf_url, system_prompt, job_description, language.upper())
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/masarom/api3.massar.biz/main.py", line 166, in process_pdf_from_url_optimized
    extractor = PDFTextExtraction(file_path, system_prompt, openai=True)
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/masarom/api3.massar.biz/pdf_data_extraction/pdf_text_extraction.py", line 23, in __init__
    self.llm= ChatOpenAI(
              ^^^^^^^^^^^
  File "/home/masarom/virtualenv/api3.massar.biz/3.11/lib/python3.11/site-packages/langchain_core/_api/deprecation.py", line 223, in warn_if_direct_instance
    return wrapped(self, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/masarom/virtualenv/api3.massar.biz/3.11/lib/python3.11/site-packages/langchain_core/load/serializable.py", line 130, in __init__
    super().__init__(*args, **kwargs)
  File "/home/masarom/virtualenv/api3.massar.biz/3.11/lib/python3.11/site-packages/pydantic/main.py", line 253, in __init__
    validated_self = self.__pydantic_validator__.validate_python(data, self_instance=self)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/masarom/virtualenv/api3.massar.biz/3.11/lib/python3.11/site-packages/pydantic/_internal/_decorators_v1.py", line 148, in _wrapper1
    return validator(values)
           ^^^^^^^^^^^^^^^^^
  File "/home/masarom/virtualenv/api3.massar.biz/3.11/lib/python3.11/site-packages/langchain_core/utils/pydantic.py", line 168, in wrapper
    return func(cls, values)
           ^^^^^^^^^^^^^^^^^
  File "/home/masarom/virtualenv/api3.massar.biz/3.11/lib/python3.11/site-packages/langchain_community/chat_models/openai.py", line 337, in validate_environment
    raise ImportError(
ImportError: Could not import openai python package. Please install it with `pip install openai`.
INFO:     102.45.138.23:0 - "POST /extract-questions-from-cv-url/ HTTP/1.1" 400 Bad Request
INFO:     Started server process [3450275]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
INFO:     Uvicorn running on http://0.0.0.0:8081 (Press CTRL+C to quit)
INFO:     102.45.138.23:0 - "GET /docs HTTP/1.1" 200 OK
INFO:     102.45.138.23:0 - "GET /openapi.json HTTP/1.1" 200 OK
INFO:     102.45.138.23:0 - "GET /docs HTTP/1.1" 200 OK
INFO:     102.45.138.23:0 - "GET /openapi.json HTTP/1.1" 200 OK
/home/masarom/api3.massar.biz/pdf_data_extraction/pdf_text_extraction.py:23: LangChainDeprecationWarning: The class `ChatOpenAI` was deprecated in LangChain 0.0.10 and will be removed in 1.0. An updated version of the class exists in the :class:`~langchain-openai package and should be used instead. To use it run `pip install -U :class:`~langchain-openai` and import as `from :class:`~langchain_openai import ChatOpenAI``.
  self.llm= ChatOpenAI(
✅ Saved: extracted_images/page_1.png
✅ Saved: extracted_images/page_2.png
Processing Images:   0%|                                  | 0/2 [00:00<?, ?it/s]Processing Images:  50%|█████████████             | 1/2 [00:05<00:05,  5.87s/it]Processing Images: 100%|██████████████████████████| 2/2 [00:15<00:00,  8.13s/it]Processing Images: 100%|██████████████████████████| 2/2 [00:15<00:00,  7.79s/it]
INFO:     102.45.138.23:0 - "POST /extract-questions-from-cv/ HTTP/1.1" 200 OK
INFO:     127.0.0.1:49932 - "POST /extract-questions-from-cv-url HTTP/1.1" 307 Temporary Redirect
✅ Saved: extracted_images/page_1.png
✅ Saved: extracted_images/page_2.png
Processing Images:   0%|                                  | 0/2 [00:00<?, ?it/s]Processing Images:  50%|█████████████             | 1/2 [00:14<00:14, 14.63s/it]Processing Images: 100%|██████████████████████████| 2/2 [00:18<00:00,  8.41s/it]Processing Images: 100%|██████████████████████████| 2/2 [00:18<00:00,  9.34s/it]
INFO:     127.0.0.1:49932 - "POST /extract-questions-from-cv-url/ HTTP/1.1" 200 OK
INFO:     156.217.96.104:0 - "GET /docs HTTP/1.1" 200 OK
INFO:     156.217.96.104:0 - "GET /openapi.json HTTP/1.1" 200 OK
✅ Saved: extracted_images/page_1.png
✅ Saved: extracted_images/page_2.png
✅ Saved: extracted_images/page_3.png
Processing Images:   0%|                                  | 0/3 [00:00<?, ?it/s]Processing Images:  33%|████████▋                 | 1/3 [00:12<00:25, 12.82s/it]Processing Images:  67%|█████████████████▎        | 2/3 [00:14<00:06,  6.30s/it]Processing Images: 100%|██████████████████████████| 3/3 [00:14<00:00,  3.49s/it]Processing Images: 100%|██████████████████████████| 3/3 [00:14<00:00,  4.90s/it]
INFO:     156.217.96.104:0 - "POST /extract-questions-from-cv/ HTTP/1.1" 200 OK
✅ Saved: extracted_images/page_1.png
✅ Saved: extracted_images/page_2.png
✅ Saved: extracted_images/page_3.png
Processing Images:   0%|                                  | 0/3 [00:00<?, ?it/s]Processing Images:  33%|████████▋                 | 1/3 [00:03<00:06,  3.42s/it]Processing Images:  67%|█████████████████▎        | 2/3 [00:14<00:07,  7.92s/it]Processing Images: 100%|██████████████████████████| 3/3 [00:15<00:00,  4.64s/it]Processing Images: 100%|██████████████████████████| 3/3 [00:15<00:00,  5.08s/it]
INFO:     156.217.96.104:0 - "POST /extract-questions-from-cv/ HTTP/1.1" 200 OK
INFO:     102.45.138.23:0 - "GET / HTTP/1.1" 404 Not Found
INFO:     102.45.138.23:0 - "GET /favicon.ico HTTP/1.1" 404 Not Found
INFO:     102.45.138.23:0 - "GET /docs HTTP/1.1" 200 OK
INFO:     102.45.138.23:0 - "GET /openapi.json HTTP/1.1" 200 OK
overall_score=0 summary_strengths='The candidate did not provide any relevant information or answers to the interview questions.' summary_weaknesses="The candidate's response was incoherent and did not address the job requirements or interview questions. There was no demonstration of relevant skills, experience, or understanding of the role." overall_fit_justification='The candidate is not a good fit for the role as they did not provide any meaningful answers or demonstrate any relevant qualifications or skills required for the position.' fit_with_role=False
INFO:     102.45.138.23:0 - "POST /evaluate-user-answer/ HTTP/1.1" 200 OK
